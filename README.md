# Buxfer Python API Client

-----------  Attention! --------------  

THIS IS NOT AN OFFICIAL BUXFER.COM API

----------- Attention! -------------- 

### How this repo was created
1. Created the "Buxfer API.yaml" file using the [Swagger Editor](https://editor.swagger.io/) based on the  [Buxfer API documentation](https://www.buxfer.com/help/api)
2. Generated python client library using the Swagger Editor
3. Created the "Buxfer_API_usage_example.py" file based on the auto-generated example, and modified it to work a bit better.

Notes:

	1. Only some of the calls are implemented.
	2. The Buxfer official documentation is lacking and outdated, so the implemtation is not identical to the actual responses received in the API calls.
	

### Auto Generated Notes

This Python package is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:

- API version: 0.0.1
- Package version: 1.0.0
- Build package: io.swagger.codegen.v3.generators.python.PythonClientCodegen

## Requirements

Python 2.7 and 3.4+.
Additional requirements in the requirements.txt document.

## Installation & Usage
### pip install

If the python package is hosted on Github, you can install directly from Github

```sh
pip install git+https://github.com/GIT_USER_ID/GIT_REPO_ID.git
```
(you may need to run `pip` with root permission: `sudo pip install git+https://github.com/GIT_USER_ID/GIT_REPO_ID.git`)

Then import the package:
```python
import swagger_client 
```

### Setuptools

Install via [Setuptools](http://pypi.python.org/pypi/setuptools).

```sh
python setup.py install --user
```
(or `sudo python setup.py install` to install the package for all users)

Then import the package:
```python
import swagger_client
```

## Getting Started

Please follow the [installation procedure](#installation--usage) and then:
1. create a local file named "personal data.py" (see example in personal_data.py) and put your personal information there:
```
buxfer_username = "username"
buxfer_password = "password"
```

2. create a local pyhton script that runs the following (see Buxfer_API_usage_example.py):

```python
from __future__ import print_function
from locale import currency
import time
from winreg import QueryValue
import swagger_client
from swagger_client.rest import ApiException
from pprint import pprint
from personal_data import buxfer_password, buxfer_username
import requests as rq
import swagger_client.models as models


token  = rq.post('https://www.buxfer.com/api/login', data={'username': buxfer_username, 'password': buxfer_password}).json()
try:
    token = token["response"]["token"]
except KeyError:
    print("Error: {}".format(token["error"]["message"]))
    exit()

# create an instance of the API class
api_instance = swagger_client.GetDataApi(swagger_client.ApiClient())

try:
    # Get Accounts information
    account_data = api_instance.accounts_get(token=token)
    accounts_array=[]
    for account in account_data["response"]["accounts"]:
        if "last_updated" in account.keys():
            last_updated = account["last_updated"]
        else:
            last_updated = None
        curr_account = models.AccountData(id = account["id"],name = account["name"],bank = account["bank"],balance = account["balance"],last_synced = last_updated)
        accounts_array.append(curr_account)
    print("Accounts:")
    for account in accounts_array:
        print(account)
except ApiException as e:
    print("Exception when calling GetDataApi->accounts_get: %s\n" % e)



try:
    # Get Tags information
    tags_data = api_instance.tags_get(token=token)
    tags_array=[]
    for tag in tags_data["response"]["tags"]:
        curr_tag = models.TagData(id = tag["id"],name = tag["name"],parent_id=tag["parentId"])
        tags_array.append(curr_tag)
    print("Tags:")
    for tag in tags_array:
        print(tag)
except ApiException as e:
    print("Exception when calling GetDataApi->tags_get: %s\n" % e)


try:
    # Get Budgets information
    budget_data = api_instance.budgets_get(token=token)
    budgets_array=[]
    for budget in budget_data["response"]["budgets"]:
        curr_tag_id = budget['tagId']
        curr_tag = next((tag for tag in tags_array if tag.id == curr_tag_id), None)
        if "remaining" in budget.keys():
            remaining = budget["remaining"]
        else:
            remaining = None
        curr_budget = models.BudgetData(id = budget["budgetId"],name = budget["name"],limit = budget["limit"],remaining = remaining,period=budget["period"], tags = curr_tag)
        budgets_array.append(curr_budget)

    print("Budgets:")
    for budget in budgets_array:
        print(budget)
except ApiException as e:
    print("Exception when calling GetDataApi->budgets_get: %s\n" % e)

try:
    # Get Contacts information
    contacts = api_instance.contacts_get(token=token)
    print("Contacts:")
    pprint(contacts)
except ApiException as e:
    print("Exception when calling GetDataApi->contacts_get: %s\n" % e)


try:
    # Get Groups information
    groups = api_instance.groups_get(token=token)
    print("Groups:")
    pprint(groups)
except ApiException as e:
    print("Exception when calling GetDataApi->groups_get: %s\n" % e)

try:
    # Get Loans information
    loans = api_instance.loans_get(token=token)
    print("Loans:")
    pprint(loans)
except ApiException as e:
    print("Exception when calling GetDataApi->loans_get: %s\n" % e)


try:
    # Get Reminders information
    reminders = api_instance.reminders_get(token=token)
    print("Reminders:")
    pprint(reminders)
except ApiException as e:
    print("Exception when calling GetDataApi->reminders_get: %s\n" % e)

pass
```

## Documentation for API Endpoints

All URIs are relative to *https://www.buxfer.com/api/*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*GetDataApi* | [**accounts_get**](docs/GetDataApi.md#accounts_get) | **GET** /accounts | Get Accounts information
*GetDataApi* | [**budgets_get**](docs/GetDataApi.md#budgets_get) | **GET** /budgets | Get Budgets information
*GetDataApi* | [**contacts_get**](docs/GetDataApi.md#contacts_get) | **GET** /contacts | Get Contacts information
*GetDataApi* | [**groups_get**](docs/GetDataApi.md#groups_get) | **GET** /groups | Get Groups information
*GetDataApi* | [**loans_get**](docs/GetDataApi.md#loans_get) | **GET** /loans | Get Loans information
*GetDataApi* | [**reminders_get**](docs/GetDataApi.md#reminders_get) | **GET** /reminders | Get Reminders information
*GetDataApi* | [**tags_get**](docs/GetDataApi.md#tags_get) | **GET** /tags | Get Tags information
*LoginApi* | [**login_post**](docs/LoginApi.md#login_post) | **POST** /login | Login to website.

## Documentation For Models

 - [AccountData](docs/AccountData.md)
 - [Accounts](docs/Accounts.md)
 - [BudgetData](docs/BudgetData.md)
 - [Budgets](docs/Budgets.md)
 - [Contacts](docs/Contacts.md)
 - [GroupData](docs/GroupData.md)
 - [Groups](docs/Groups.md)
 - [LoanData](docs/LoanData.md)
 - [Loans](docs/Loans.md)
 - [LoginData](docs/LoginData.md)
 - [LoginResponse](docs/LoginResponse.md)
 - [MemberData](docs/MemberData.md)
 - [ReminderData](docs/ReminderData.md)
 - [Reminders](docs/Reminders.md)
 - [RequestToken](docs/RequestToken.md)
 - [RequestToken2](docs/RequestToken2.md)
 - [TagData](docs/TagData.md)
 - [Tags](docs/Tags.md)

## Documentation For Authorization

 All endpoints do not require authorization.


## Author

robbiegal@gmail.com
